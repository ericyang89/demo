<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  this 
  <script>


    // Debounce 节流 （trail）
    const debounce = (func, delay) => {
      let inDebounce
      return function () {
        const context = this
        const args = arguments
        clearTimeout(inDebounce)
        inDebounce = setTimeout(() => func.apply(context, args), delay)
      }
    }

    // Throttle 防抖 去抖1
    // Let’s start by simply limiting the rate at which we execute a function.
    const throttle = (func, limit) => {
      let inThrottle
      return function () {
        const args = arguments
        const context = this
        if (!inThrottle) {
          func.apply(context, args)
          inThrottle = true
          setTimeout(() => inThrottle = false, limit)
        }
      }
    }

    // Throttle 防抖 去抖2  如果你关心最后一次调用 （保证最后一次调用必须执行）
    const throttle = (func, limit) => {
      let inThrottle
      let lastFunc
      let lastRan
      return function () {

        // 保存函数的执行环境，更真实的还原原始函数的执行
        const context = this
        const args = arguments

        // 只用第一调用的时候用到
        if (!inThrottle) {
          func.apply(context, args)
          lastRan = Date.now()
          inThrottle = true
        } else {
          clearTimeout(lastFunc)
          lastFunc = setTimeout(function () {
            if ((Date.now() - lastRan) >= limit) {
              func.apply(context, args)
              lastRan = Date.now()
            }
          }, limit - (Date.now() - lastRan))
        }
      }
    }
  </script>

</body>

</html>